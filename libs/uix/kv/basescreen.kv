 #:kivy 1.11.0
# -*- coding: ut-8 -*-
#
# This file created with KivyCreatorProject
# <https://github.com/HeaTTheatR/KivyCreatorProgect
#
# Copyright Â© 2017 Easy
#
# For suggestions and questions:
# <kivydevelopment@gmail.com>
# 
# LICENSE: MIT

#:import MDIconButton kivymd.button.MDIconButton
#:import MDFloatingActionButton kivymd.button.MDFloatingActionButton
#:import MDFlatButton kivymd.button.MDFlatButton
#:import MDRaisedButton kivymd.button.MDRaisedButton
#:import MDRectangleFlatButton kivymd.button.MDRectangleFlatButton
#:import MDRoundFlatButton kivymd.button.MDRoundFlatButton
#:import MDRectangleFlatIconButton kivymd.button.MDRectangleFlatIconButton
#:import MDTextButton kivymd.button.MDTextButton
#:import MDFillRoundFlatButton kivymd.button.MDFillRoundFlatButton
#:import MDFillRoundFlatIconButton kivymd.button.MDFillRoundFlatIconButton
#:import MDFillRoundFlatButton kivymd.button.MDFillRoundFlatButton
#:import MDLabel kivymd.label.MDLabel
#:import MDTextFieldRound kivymd.textfields.MDTextFieldRound

<BaseScreen>:
    name: 'base'

    ScrollView:
        size_hint_x: None
        width: box.width
        pos_hint: {'center_x': .5}
        bar_width: 0

        BoxLayout:
            id: box
            padding: dp(10)
            size_hint: None, None
            size: self.minimum_size
            spacing: dp(10)
            orientation: 'vertical'
            pos_hint: {'center_x': .5}

            BoxLayout:
                size_hint: None, None
                width: self.minimum_width
                height: dp(56)
                spacing: '10dp'


                MDFillRoundFlatIconButton:
                    icon: 'view-list'
                    text: 'Go to Lists Page'
                    opposite_colors: True
                    elevation_normal: 8
                    on_press: app.switch_lists_screen()

                MDFillRoundFlatIconButton:
                    icon: 'check'
                    text: 'Open Login'
                    opposite_colors: True
                    elevation_normal: 8
                    md_bg_color: app.theme_cls.primary_color
                    #on_press:app.show_action_bar()
                    on_press: root.open_popup()

            #     MDIconButton:
            #         icon: 'sd'
            #         theme_text_color: 'Custom'
            #         text_color: app.theme_cls.primary_color
 
            # MDFlatButton:
            #     text: 'MDFlatButton'
            #     pos_hint: {'center_x': .5}

            # MDRaisedButton:
            #     text: "MDRaisedButton"
            #     elevation_normal: 2
            #     opposite_colors: True
            #     pos_hint: {'center_x': .5}

            # MDRectangleFlatButton:
            #     text: "MDRectangleFlatButton"
            #     pos_hint: {'center_x': .5}

            # MDRectangleFlatIconButton:
            #     text: "MDRectangleFlatIconButton"
            #     icon: "language-python"
            #     width: dp(230)
            #     pos_hint: {'center_x': .5}

            # MDRoundFlatButton:
            #     text: "MDRoundFlatButton"
            #     pos_hint: {'center_x': .5}

            # MDRoundFlatIconButton:
            #     text: "MDRoundFlatIconButton"
            #     icon: "language-python"
            #     width: dp(200)
            #     pos_hint: {'center_x': .5}

            # MDFillRoundFlatButton:
            #     text: "MDFillRoundFlatButton"
            #     pos_hint: {'center_x': .5}

            # MDRoundFlatIconButton:
            #     text: "MDRoundFlatIconButton"
            #     icon: "language-python"
            #     width: dp(200)
            #     pos_hint: {'center_x': .5}

            # MDFillRoundFlatIconButton:
            #     text: "MDFillRoundFlatIconButton"
            #     icon: "language-python"
            #     pos_hint: {'center_x': .5}

            # MDTextButton:
            #     text: "MDTextButton"
            #     pos_hint: {'center_x': .5}
        # do_scroll_x: False

        # MDList:
        #     id: ml

        #     OneLineListItem:
        #         text: "One-line item"



<Folder@MDAccordionListItem>
    icon: 'android'

    IconLeftSampleWidget:
        icon: root.icon


<SubFolderContent>
    GridLayout:


<FlatButton@ButtonBehavior+Label>:
    font_size: 16

<LoginPopup>
    id: main_win
    orientation: "vertical"
    spacing: 10
    space_x: self.size[0]/3
    canvas.before:
        Color:
            rgba: (1,1,1, 1)
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: app.theme_cls.primary_color
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text: "Login to ComicRack Server"
            bold: True
            size_hint_x: .9
        FlatButton:
            text: "x"
            size_hint_x: .1
            on_release: app.root.ids.base.close_popup()
    BoxLayout:
        orientation: 'vertical'
        padding: main_win.space_x, 10
        #spacing: 20
        BoxLayout:
            orientation: "vertical"
            spacing: 10
            size_hint_y: None
            size_hint_x: None
            height: 150
            width: root.width/2
            Label:
                id: info
                text:  '[color=#FF0000]No API key sotred login to get one[/color]'
                markup: True
                size_hint_y: None
                height: 20
            TextInput:
                id: username_field
                hint_text: "Username"
                multiline: False
                focus: True
                on_text_validate: pwd_field.focus = True
            TextInput:
                id: pwd_field
                hint_text: "Password"
                multiline: False
                password: True
                on_text_validate: url_field.focus = True
            TextInput:
                id: url_field
                hint_text: "ComicRack Server URL"
                multiline: False
                on_text_validate: app.root.ids.base.validate_user()
        Label:
            id: sp
            size_hint_y: None
            height: 40
        Button:
            text: "Sign In"
            size_hint_y: None
            height: 40
            background_color: app.theme_cls.primary_color
            background_normal: ''
            on_release: app.root.ids.base.validate_user()
        Label:
            id: sp2